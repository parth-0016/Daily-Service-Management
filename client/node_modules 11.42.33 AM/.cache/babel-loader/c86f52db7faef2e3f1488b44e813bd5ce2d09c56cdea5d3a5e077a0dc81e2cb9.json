{"ast":null,"code":"var _jsxFileName = \"/Users/parth/Project/DailyServiceManagement-main/client/src/components/monthlycard/Monthlycard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Onecard from '../onecard/Onecard';\nimport Onedate from '../showdate/Onedate';\nimport \"./monthly.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Monthlycard() {\n  _s();\n  const [proname, setproname] = useState();\n  const [notdelivered, setnotdelivered] = useState([]);\n  const [item, setitem] = useState([]);\n  const [predates, setpredates] = useState([]);\n  const [prize, setprize] = useState();\n  const [milkperday, setmilkperday] = useState();\n  function addprevitem(c) {\n    setpredates([...predates, ...c]);\n    // console.log(data);\n  }\n\n  useEffect(() => {\n    var showdate = new Date();\n    var displaydate = showdate.getDate();\n    const totalDays = new Date(showdate.getFullYear(), showdate.getMonth() + 1, 0).getDate();\n    const pretemp = [];\n    for (let i = 1; i < displaydate + 1; i++) {\n      pretemp.push(i);\n    }\n    addprevitem(pretemp);\n  }, []);\n  const providername = async () => {\n    const user_id = JSON.parse(localStorage.getItem(\"user\")).milkprovider_id;\n    const res = await fetch('/getusername', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id\n      })\n    });\n    const y = await res.json();\n    console.log(y);\n    setproname(y);\n  };\n  const doing1 = async () => {\n    // const date=data.selected_date;\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    const customer_id = user.user_id;\n    const milkprovider_id = user.milkprovider_id;\n    const res = await fetch(\"/returndates\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        customer_id,\n        milkprovider_id\n      })\n    });\n    const y = await res.json();\n    // console.log(y);\n    setnotdelivered([...y]);\n    // console.log(notdelivered);\n    var showdate = new Date();\n    const totalDays = new Date(showdate.getFullYear(), showdate.getMonth() + 1, 0).getDate();\n  };\n  const milkperday_fun = async () => {\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    const user_id = user.user_id;\n    const milkprovider_id = user.milkprovider_id;\n    const res = await fetch(\"/milkperday\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id,\n        milkprovider_id\n      })\n    });\n    const y = await res.json();\n    setmilkperday(y);\n  };\n  const milkprize_fun = async () => {\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    const milkprovider_id = user.milkprovider_id;\n    const res = await fetch(\"/milkprize\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        milkprovider_id\n      })\n    });\n    const y = await res.json();\n    setprize(y);\n  };\n  useEffect(() => {\n    providername();\n    doing1();\n    milkperday_fun();\n    milkprize_fun();\n  }, []);\n  var totaldays = 0;\n  const now1 = predates.map((e, index) => notdelivered.includes(e) ? /*#__PURE__*/_jsxDEV(Onecard, {\n    value: e,\n    prize: prize,\n    milkperday: 0\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 37\n  }, this) : /*#__PURE__*/_jsxDEV(Onecard, {\n    value: e,\n    prize: prize,\n    milkperday: milkperday\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 100\n  }, this));\n  const temp = predates.map(e => {\n    notdelivered.includes(e) ? totaldays += 0 : totaldays += 1;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"monthly-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"customer-name\",\n      children: [\"Customer Name:-\", JSON.parse(localStorage.getItem(\"user\")).fname, \" \", JSON.parse(localStorage.getItem(\"user\")).lname]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"provider-name\",\n      children: [\"Provider Name:- \", proname, /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Prize:-\", prize]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"milk per day:- \", milkperday]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-main-body\",\n      children: now1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total-rupees\",\n      children: [\"Total Rupees to pay :- \", totaldays * prize * milkperday]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(Monthlycard, \"qcXUan844ndQeX0Q6Gnyz89QE34=\");\n_c = Monthlycard;\nvar _c;\n$RefreshReg$(_c, \"Monthlycard\");","map":{"version":3,"names":["React","useEffect","useState","Onecard","Onedate","jsxDEV","_jsxDEV","Monthlycard","_s","proname","setproname","notdelivered","setnotdelivered","item","setitem","predates","setpredates","prize","setprize","milkperday","setmilkperday","addprevitem","c","showdate","Date","displaydate","getDate","totalDays","getFullYear","getMonth","pretemp","i","push","providername","user_id","JSON","parse","localStorage","getItem","milkprovider_id","res","fetch","method","headers","body","stringify","y","json","console","log","doing1","user","customer_id","milkperday_fun","milkprize_fun","totaldays","now1","map","e","index","includes","value","fileName","_jsxFileName","lineNumber","columnNumber","temp","className","children","fname","lname","_c","$RefreshReg$"],"sources":["/Users/parth/Project/DailyServiceManagement-main/client/src/components/monthlycard/Monthlycard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Onecard from '../onecard/Onecard';\nimport Onedate from '../showdate/Onedate';\nimport \"./monthly.css\"\nexport default function Monthlycard() {\n    const [proname,setproname]=useState();\n    const [notdelivered,setnotdelivered]=useState([]);\n    const [item,setitem]=useState([]);\n    const [predates,setpredates]=useState([]);\n    const [prize,setprize]=useState();\n    const [milkperday,setmilkperday]=useState();\n    function addprevitem(c){\n      setpredates([...predates,...c]);\n      // console.log(data);\n    }\n    useEffect(()=>{\n      var showdate=new Date();\n    var displaydate=showdate.getDate();\n    const totalDays = new Date(showdate.getFullYear(), showdate.getMonth()+1, 0).getDate();\n    const pretemp=[];\n    for(let i=1;i<displaydate+1;i++){\n      pretemp.push(i);\n    }\n    addprevitem(pretemp);\n    },[])\n    const providername=async ()=>{\n        const user_id=JSON.parse(localStorage.getItem(\"user\")).milkprovider_id;\n        const res=await fetch('/getusername',{\n            method:\"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              user_id\n            }),\n          });\n          const y=await res.json();\n          console.log(y);\n          setproname(y);\n    }\n    const doing1=async ()=>{\n        // const date=data.selected_date;\n        var user=localStorage.getItem(\"user\");\n        user=JSON.parse(user);\n        const customer_id=user.user_id;\n        const milkprovider_id=user.milkprovider_id;\n        const res = await fetch(\"/returndates\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            customer_id,milkprovider_id\n          })\n        })\n          const y=await res.json();\n          // console.log(y);\n          setnotdelivered([...y]);\n        // console.log(notdelivered);\n        var showdate=new Date();\n        const totalDays = new Date(showdate.getFullYear(), showdate.getMonth()+1, 0).getDate();\n}\nconst milkperday_fun=async ()=>{\n  var user=localStorage.getItem(\"user\");\n  user=JSON.parse(user);\n  const user_id=user.user_id;\n  const  milkprovider_id=user.milkprovider_id;\n  const res = await fetch(\"/milkperday\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      user_id,milkprovider_id\n    })\n  });\n  const y=await res.json();\n  setmilkperday(y);\n};\nconst milkprize_fun=async()=>{\n  var user=localStorage.getItem(\"user\");\n  user=JSON.parse(user);\n  const  milkprovider_id=user.milkprovider_id;\n  const res = await fetch(\"/milkprize\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      milkprovider_id\n    })\n  });\n  const y=await res.json();\n  setprize(y);\n};\n    useEffect( ()=>{\n        providername();\n        doing1();\n        milkperday_fun();\n        milkprize_fun();\n    },[]);\n    var totaldays=0;\n    const now1=predates.map((e,index)=>\n          notdelivered.includes(e)? <Onecard key={index} value={e} prize={prize} milkperday={0}/> :<Onecard key={index} value={e} prize={prize} milkperday={milkperday}/>\n);\nconst temp=predates.map((e)=>{\n    notdelivered.includes(e)?totaldays+=0:totaldays+=1\n})\n  return (\n    <div className=\"monthly-card\">\n      <div className=\"customer-name\">Customer Name:-{JSON.parse(localStorage.getItem(\"user\")).fname} {JSON.parse(localStorage.getItem(\"user\")).lname}</div>\n      <div className=\"provider-name\">\n        Provider Name:- {proname}\n        <div>Prize:-{prize}</div>\n        <div>milk per day:- {milkperday}</div>\n      </div>\n      <div className=\"card-main-body\">\n        {now1}\n      </div>\n      <div className=\"total-rupees\">Total Rupees to pay :- {totaldays*prize*milkperday}</div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}