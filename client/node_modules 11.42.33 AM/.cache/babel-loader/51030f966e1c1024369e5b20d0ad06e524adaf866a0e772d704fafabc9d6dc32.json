{"ast":null,"code":"var _jsxFileName = \"/Users/parth/Project/DailyServiceManagement-main/client/src/components/reqmilk/Onereq.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport \"./onereq.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Onereq(props) {\n  _s();\n  const [ans, setans] = useState();\n  const [now, setnow] = useState();\n  const sendrequest = async e => {\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    var showdate = new Date();\n    var month = showdate.getMonth() + 1;\n    var year = showdate.getFullYear();\n    // console.log(user)\n    const user_id = user.user_id;\n    console.log(user_id);\n    const milk = props.now.milk_provider_id;\n    console.log(milk);\n    const totalmilk = props.howmuchmilk;\n    const res = await fetch('/sendrequest', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        milk,\n        user_id,\n        month,\n        year,\n        totalmilk\n      })\n    });\n    const y = await res.json();\n    setans(y);\n  };\n  const status = async () => {\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    // console.log(user)\n    const user_id = user.user_id;\n    const milk = props.now.milk_provider_id;\n    var showdate = new Date();\n    var month = showdate.getMonth() + 1;\n    var year = showdate.getFullYear();\n    const res = await fetch('/checkreqstatus', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        milk,\n        user_id,\n        month,\n        year\n      })\n    });\n    const y = await res.json();\n    console.log(y);\n    setnow(y);\n  };\n  useEffect(() => {\n    console.log(props.howmuchmilk);\n    status();\n  }, [ans]);\n  const tp = () => {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"onereq\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Name: \", props.now.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Prize/litre: \", props.now.prize]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: now === \"send request\" ? sendrequest() : tp,\n      children: now\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(Onereq, \"yjEjxfg1SrvyYBtupb+zYvFXS70=\");\n_c = Onereq;\nvar _c;\n$RefreshReg$(_c, \"Onereq\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Onereq","props","_s","ans","setans","now","setnow","sendrequest","e","user","localStorage","getItem","JSON","parse","showdate","Date","month","getMonth","year","getFullYear","user_id","console","log","milk","milk_provider_id","totalmilk","howmuchmilk","res","fetch","method","headers","body","stringify","y","json","status","tp","className","children","username","fileName","_jsxFileName","lineNumber","columnNumber","prize","onClick","_c","$RefreshReg$"],"sources":["/Users/parth/Project/DailyServiceManagement-main/client/src/components/reqmilk/Onereq.jsx"],"sourcesContent":["import React, { useEffect, useState }  from 'react'\nimport \"./onereq.css\"\nexport default function Onereq(props) {\n    const [ans,setans]=useState();\n    const [now,setnow]=useState();\n    const sendrequest=async (e)=>{\n        var user=localStorage.getItem(\"user\");\n        user=JSON.parse(user);\n        var showdate=new Date();\n        var month=showdate.getMonth()+1;\n        var year=showdate.getFullYear();\n          // console.log(user)\n        const user_id=user.user_id;\n        console.log(user_id);\n        const milk=props.now.milk_provider_id;\n        console.log(milk);\n        const totalmilk=props.howmuchmilk;\n        const res=await fetch('/sendrequest',{\n          method:\"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            milk,user_id,month,year,totalmilk\n          }),\n        });\n        const y=await res.json();\n        setans(y);\n      }\n      const status=async()=>{\n        var user=localStorage.getItem(\"user\");\n        user=JSON.parse(user);\n          // console.log(user)\n        const user_id=user.user_id;\n        const milk=props.now.milk_provider_id;\n        var showdate=new Date();\n        var month=showdate.getMonth()+1;\n        var year=showdate.getFullYear();\n        const res=await fetch('/checkreqstatus',{\n            method:\"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              milk,user_id,month,year\n            }),\n          });\n          const y=await res.json();\n          console.log(y);\n          setnow(y);\n      };\n      useEffect(()=>{\n        console.log(props.howmuchmilk);\n        status();\n      },[ans])\n      const tp=()=>{\n      }\n  return (\n    <div className=\"onereq\">\n      <h3>Name: {props.now.username}</h3>\n      <p>Prize/litre: {props.now.prize}</p>\n      <button className=\"btn\" onClick={now===\"send request\" ? sendrequest() : tp}>{now}</button>\n</div>\n\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}