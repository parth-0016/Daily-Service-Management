{"ast":null,"code":"var _jsxFileName = \"/Users/parth/Project/DailyServiceManagement-main/client/src/components/reqmilk/Onereqfornews.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport \"./onereq.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Onereqfornews(props) {\n  _s();\n  const [ans, setans] = useState();\n  const [now, setnow] = useState();\n  const sendrequest1 = async e => {\n    console.log(\"user request send\");\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    var showdate = new Date();\n    var month = showdate.getMonth() + 1;\n    var year = showdate.getFullYear();\n    // console.log(user)\n    const user_id = user.user_id;\n    console.log(user_id);\n    const news = props.now.news_provider_id;\n    const res = await fetch('/newssendrequest', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        news,\n        user_id,\n        month,\n        year\n      })\n    });\n    const y = await res.json();\n    setans(y);\n  };\n  const status = async () => {\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    // console.log(user)\n    const user_id = user.user_id;\n    const news = props.now.news_provider_id;\n    var showdate = new Date();\n    var month = showdate.getMonth() + 1;\n    var year = showdate.getFullYear();\n    const res = await fetch('/newscheckreqstatus', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        news,\n        user_id,\n        month,\n        year\n      })\n    });\n    const y = await res.json();\n    // console.log(y);\n    setnow(y);\n  };\n  useEffect(() => {\n    status();\n  }, [ans]);\n  const tp = () => {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"onereq\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Name: \", props.now.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Prize/Month: \", props.now.prize]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: now === \"send request\" ? sendrequest1 : tp,\n      children: now\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(Onereqfornews, \"yjEjxfg1SrvyYBtupb+zYvFXS70=\");\n_c = Onereqfornews;\nvar _c;\n$RefreshReg$(_c, \"Onereqfornews\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Onereqfornews","props","_s","ans","setans","now","setnow","sendrequest1","e","console","log","user","localStorage","getItem","JSON","parse","showdate","Date","month","getMonth","year","getFullYear","user_id","news","news_provider_id","res","fetch","method","headers","body","stringify","y","json","status","tp","className","children","username","fileName","_jsxFileName","lineNumber","columnNumber","prize","onClick","_c","$RefreshReg$"],"sources":["/Users/parth/Project/DailyServiceManagement-main/client/src/components/reqmilk/Onereqfornews.jsx"],"sourcesContent":["import React, { useEffect, useState }  from 'react'\nimport \"./onereq.css\"\nexport default function Onereqfornews(props) {\n    const [ans,setans]=useState();\n    const [now,setnow]=useState();\n    const sendrequest1=async (e)=>{\n      console.log(\"user request send\");\n        var user=localStorage.getItem(\"user\");\n        user=JSON.parse(user);\n        var showdate=new Date();\n        var month=showdate.getMonth()+1;\n        var year=showdate.getFullYear();\n          // console.log(user)\n        const user_id=user.user_id;\n        console.log(user_id);\n        const news=props.now.news_provider_id;\n        const res=await fetch('/newssendrequest',{\n          method:\"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            news,user_id,month,year\n          }),\n        });\n        const y=await res.json();\n        setans(y);\n      }\n      const status=async()=>{\n        var user=localStorage.getItem(\"user\");\n        user=JSON.parse(user);\n          // console.log(user)\n        const user_id=user.user_id;\n        const news=props.now.news_provider_id;\n        var showdate=new Date();\n        var month=showdate.getMonth()+1;\n        var year=showdate.getFullYear();\n        const res=await fetch('/newscheckreqstatus',{\n            method:\"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              news,user_id,month,year\n            }),\n          });\n          const y=await res.json();\n          // console.log(y);\n          setnow(y);\n      };\n      useEffect(()=>{\n        status();\n      },[ans])\n      const tp=()=>{\n      }\n  return (\n    <div className=\"onereq\">\n      <h3>Name: {props.now.username}</h3>\n      <p>Prize/Month: {props.now.prize}</p>\n      <button className=\"btn\" onClick={now===\"send request\"?sendrequest1:tp}>{now}</button>\n</div>\n\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}