{"ast":null,"code":"var _jsxFileName = \"/Users/parth/Project/DailyServiceManagement-main/client/src/components/req/Req_news.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n// import \"./req.css\"\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Req_news(props) {\n  _s();\n  const [data, setdata] = useState();\n  const [ans, setans] = useState();\n  const now = async () => {\n    const user_id = props.value;\n    const res = await fetch(\"/customeridtoname\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id\n      })\n    });\n    const y = await res.json();\n    console.log(y);\n    setdata(y.username);\n    // console.log(data);\n  };\n\n  useEffect(() => {\n    now();\n    // console.log(data);\n  }, [ans]);\n  const rejected = async e => {\n    e.preventDefault();\n    const user_id = props.value;\n    var provider = localStorage.getItem(\"user\");\n    provider = JSON.parse(provider);\n    const provider_id = provider.news_provider_id;\n    const res = await fetch(\"/newsrequestreject\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id,\n        provider_id\n      })\n    });\n    const y = await res.json();\n    console.log(y);\n    setans(y);\n    alert(\"request rejected\");\n    props.pass();\n  };\n  const accepted = async e => {\n    e.preventDefault();\n    const user_id = props.value;\n    var provider = localStorage.getItem(\"user\");\n    provider = JSON.parse(provider);\n    var showdate = new Date();\n    var month = showdate.getMonth() + 1;\n    var year = showdate.getFullYear();\n    const provider_id = provider.news_provider_id;\n    const res = await fetch(\"/newsrequestaccept\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id,\n        provider_id,\n        month,\n        year\n      })\n    });\n    const y = await res.json();\n    console.log(y);\n    setans(y);\n    alert(\"request accpected\");\n    props.pass();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"req-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"1.jpg\",\n        alt: \"User Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"username\",\n        children: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"button-21\",\n        onClick: accepted,\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"button-21\",\n        onClick: rejected,\n        children: \"Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(Req_news, \"anC63B1HDIjSlB+Q8QNvX/Ktdqg=\");\n_c = Req_news;\nvar _c;\n$RefreshReg$(_c, \"Req_news\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Req_news","props","_s","data","setdata","ans","setans","now","user_id","value","res","fetch","method","headers","body","JSON","stringify","y","json","console","log","username","rejected","e","preventDefault","provider","localStorage","getItem","parse","provider_id","news_provider_id","alert","pass","accepted","showdate","Date","month","getMonth","year","getFullYear","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","class","onClick","_c","$RefreshReg$"],"sources":["/Users/parth/Project/DailyServiceManagement-main/client/src/components/req/Req_news.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\n// import \"./req.css\"\nexport default function Req_news(props) {\n    const [data,setdata]=useState();\n    const [ans,setans]=useState();\n    const now=async ()=>{\n        const user_id=props.value;\n        const res=await fetch(\"/customeridtoname\",{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                user_id\n            })\n        });\n        const y=await res.json();\n        console.log(y);\n        setdata(y.username);\n        // console.log(data);\n    }\n    useEffect(()=>{\n        now();\n        // console.log(data);\n    },[ans])\n    const rejected=async(e)=>{\n        e.preventDefault();\n        const user_id=props.value;\n        var provider=localStorage.getItem(\"user\");\n        provider=JSON.parse(provider);\n        const provider_id=provider.news_provider_id;\n        const res=await fetch(\"/newsrequestreject\",{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                user_id,provider_id\n            })\n        });\n        const y=await res.json();\n        console.log(y);\n        setans(y);\n        alert(\"request rejected\");\n        props.pass();\n    }\n    const accepted= async (e)=>{\n        e.preventDefault();\n        const user_id=props.value;\n        var provider=localStorage.getItem(\"user\");\n        provider=JSON.parse(provider);\n        var showdate=new Date();\n  var month=showdate.getMonth()+1;\n  var year=showdate.getFullYear();\n        const provider_id=provider.news_provider_id;\n        const res=await fetch(\"/newsrequestaccept\",{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                user_id,provider_id,month,year\n            })\n        });\n        const y=await res.json();\n        console.log(y);\n        setans(y);\n        alert(\"request accpected\");\n        props.pass();\n    }\n  return (\n    <div className=\"req-container\">\n        \n    <div className=\"user-info\">\n      <img src=\"1.jpg\" alt=\"User Avatar\" />\n      <h3 className='username'>{data}</h3>\n    </div>\n    <div className=\"buttons\">\n      <button class=\"button-21\" onClick={accepted}>Accept</button>\n      <button class=\"button-21\" onClick={rejected}>Reject</button>\n    </div>\n </div>\n\n\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}